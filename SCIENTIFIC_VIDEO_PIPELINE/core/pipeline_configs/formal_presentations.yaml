# Formal Presentations Pipeline Configuration
# Single speaker, formal scientific content

pipeline_type: "formal_presentations"
pipeline_name: "Formal Presentations 1-on-0"
description: "Pipeline for processing formal scientific presentations with single speaker"

# Speaker Configuration
speaker_count: 1
speaker_identification: "automatic"
speaker_mapping: {}

# Transcription Configuration
transcription_service: "assemblyai"
transcription_config:
  language_code: "en"
  speaker_diarization: false
  custom_spelling: []
  disfluencies: false
  auto_highlights: false
  content_safety: false
  auto_chapters: false
  entity_detection: false
  iab_categories: false
  auto_labels: false
  sentiment_analysis: false

# Chunking Configuration
chunking_strategy: "semantic"
chunking_config:
  max_chunk_tokens: 300
  min_chunk_tokens: 100
  overlap_tokens: 50
  semantic_boundaries: true
  topic_aware: true

# LLM Enhancement Configuration
llm_enhancement: true
llm_config:
  model: "gpt-4"
  temperature: 0.3
  max_tokens: 500
  system_prompt: "You are a scientific content analyst specializing in developmental biology, bioelectricity, psychiatry, and neuroscience. You excel at extracting meaningful insights from formal scientific presentations."

# Frame Extraction Configuration
frame_extraction:
  enabled: true
  interval_seconds: 15
  quality: "high"
  max_frames_per_video: 1000
  frame_format: "jpg"
  frame_size: "1280x720"

# Frame-Chunk Alignment Configuration
frame_alignment:
  strategy: "single_frame_per_chunk"
  timestamp_tolerance: 5.0
  min_alignment_confidence: 0.7
  frame_selection: "best_match"

# Embedding Configuration
embedding_config:
  model: "text-embedding-3-large"
  chunk_size: 1000
  include_metadata: true
  include_content_summary: true

# Cleanup Configuration
cleanup_strategy: "aggressive"
cleanup_config:
  remove_video_files: true
  remove_unreferenced_frames: true
  remove_temp_files: true
  preserve_essential: true
  essential_files:
    - "logs/pipeline_progress_queue.json"
    - "logs/assemblyai_webhooks.json"
    - "*.py"
    - "*.md"

# Output Configuration
output_config:
  create_enhanced_chunks: true
  create_finetune_data: true
  create_qa_pairs: false
  create_speaker_analysis: false
  output_formats: ["json", "jsonl"]

# Processing Configuration
processing_config:
  parallel_processing: false
  max_workers: 1
  retry_attempts: 3
  retry_delay: 5
  timeout_seconds: 300
  progress_tracking: true
  detailed_logging: true
